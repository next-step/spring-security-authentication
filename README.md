# spring-security-authentication

## 기능 요구 사항
아이디와 비빌번호를 기반으로 로그인 기능을 구현하고, Basic 인증을 사용하여 사용자를 식별할 수 있도록 스프링 프레임워크를 사용하여 웹 앱으로 구현한다.

### 1. 아이디와 비밀번호 기반 로그인 구현
- `POST/login` 경로로로그인요청을합니다.
- 사용자가 입력한 아이디와 비밀번호를 확인하여 인증한다. 
- 로그인 성공 시 Session 을 사용하여 인증 정보를 저장한다.
- `LoginTest` 의 모든 테스트가 통과해야 한다. 

### 2. Basic 인증 구현
- `GET /member`요청 시 사용자 목록을 조회한다.
- 단, `Member` 로 등록되어있는 사용자만 가능하도록 한다.
- 이를 위해 Basic 인증을 사용하여 사용자를 식별한다.
- 요청의 `Authorization 헤더`에서 Basic 인증 정보를 추출하여 인증을 처리한다. 
- 인증 성공 시 `Session` 을 사용하여 인증 정보를 저장한다.
- `MemberTest` 의 모든 테스트가 통과해야 한다.

### 3.인터셉터 분리
- HandlerInterceptor 를 사용하여 인증 관련 로직을 Controller 클래스에서 분리한다.
- 앞서 구현한 두 인증 방식(아이디 비밀번호 로그인 방식과 Basic 인증 방식) 모두 인터셉터에서 처리되도록 구현한다. 
- 가급적이면 하나의 인터셉터는 하나의 작업만 수행하도록 설계한다.

### 4. 인증 로직과 서비스 로직 간의 패키지 분리
- 서비스 코드와 인증 코드를 명확히 분리하여 관리하도록 한다.
    - 서비스 관련 코드는 app 패키지에 위치시키고, 인증 관련 코드는 security 패키지에 위치시킨다.
- 리팩터링 과정에서 패키지 간의 양방향 참조가 발생한다면 단방향 참조로 리팩터링한다.
    - app 패키지는   패키지에 의존할 수 있지만, 반대로 security 패키지는 app 패키지에 의존하지 않도록 한다.
- 인증 관련 작업은   패키지에서 전담하도록 설계하여, 서비스 로직이 인증 세부 사항에 의존하지 않게 만든다. LoginTest 와   의 모든 테스트는 지속해서 통과해야 한다.


## 프로그래밍 요구 사항
- 자바 코드 컨벤션을 지키면서 프로그래밍한다.
  - 기본적으로 Google Java Style Guide를 원칙으로 한다. 
  - 단, 들여쓰기는 '2 spaces'가 아닌 '4 spaces'로 한다.
- indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
  - 예를 들어 while문 안에 if문이 있으면 들여쓰기는 2이다.
  - 힌트: indent(인덴트, 들여쓰기) depth를 줄이는 좋은 방법은 함수(또는 메서드)를 분리하면 된다.
- 3항 연산자를 쓰지 않는다.
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
  - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다. 
- else 예약어를 쓰지 않는다.
  - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 허용하지 않는다.
  - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
- JUnit 5와 AssertJ를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인한다.
  - 테스트 도구 사용법이 익숙하지 않다면 아래 문서를 참고하여 학습한 후 테스트를 구현한다. 
    - JUnit 5 User Guide
    - AssertJ User Guide
    - AssertJ Exception Assertions
    - Guide to JUnit 5 Parameterized Tests
